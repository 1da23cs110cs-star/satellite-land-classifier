<!doctype html>
<html>
<head>
  <meta charset="utf-8"/>
  <title>SatClassifier â€” Results</title>
  <style>
    body{font-family:Arial,Helvetica,sans-serif;background:#f3f9ff;color:#123; padding:28px}
    .wrap{display:flex;gap:20px;max-width:1100px;margin:0 auto}
    .left,.right{background:#fff;border-radius:10px;padding:18px;box-shadow:0 10px 30px rgba(8,40,80,0.06)}
    .left{width:380px}
    .left img{width:100%;border-radius:8px;display:block}
    .muted{color:#718791;font-size:13px;margin-top:10px}
    .right{flex:1}
    table{width:100%;border-collapse:collapse;margin-top:8px}
    th,td{padding:10px 12px;text-align:left}
    th{color:#0b66a3;border-bottom:1px solid #e6eef8}
    tr:nth-child(even) td{background:transparent}
    .legend{display:flex;flex-wrap:wrap;gap:8px;margin-bottom:8px;align-items:center}
    .swatch{display:flex;gap:6px;align-items:center;margin-right:12px}
    .sw{width:16px;height:12px;border-radius:3px;border:1px solid rgba(0,0,0,0.06)}
    .btn{display:inline-block;padding:8px 12px;border-radius:8px;background:#06a2ff;color:#fff;text-decoration:none}
  </style>
</head>
<body>
  <div class="wrap">
    <div class="left">
      <h2>Original crop</h2>
      <img src="{{ original_image }}" alt="crop"/>
      <div class="muted">Classification uses the ESA WorldCover color palette. Pixel counts are from the cropped tile image.</div>
    </div>

    <div class="right">
      <h2>Results</h2>

      <div class="legend">
        {% for r in results %}
          <div class="swatch">
            <span class="sw" style="background:{{ r.hex }}"></span>
            <small style="font-size:13px;color:#234">{{ r.label }} ({{ r.id }})</small>
          </div>
        {% endfor %}
      </div>

      <table>
        <thead>
          <tr><th>Class</th><th style="width:120px">Pixels</th><th style="width:120px">Percent</th></tr>
        </thead>
        <tbody>
          {% for r in results %}
            <tr>
              <td style="font-weight:700">{{ r.label }}</td>
              <td>{{ "{:,}".format(r.count) }}</td>
              <td>{{ "{:.2f}%".format(r.percent) }}</td>
            </tr>
          {% endfor %}
        </tbody>
      </table>

      <div style="margin-top:16px">
        <a class="btn" onclick="window.print()">Print / Save</a>
      </div>
    </div>
  </div>
</body>
</html>
